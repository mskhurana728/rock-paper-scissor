<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissor</title>
</head>

<body>
    <h1>Going to make Rock-Paper-Scissor in Console</h1>
    <h3>Reload the page to play Again!!</h3>
    <script>

        //Algorithm   
        // We have to make a function which randomly gives values in the form of rock, paper and scissor
        // We have to make  a function named as computerPlay
        //no arguments or parameters
        //we will make a condition here using if and we will use math. random to make a random number between 1 to 3 if the 
        //random number is 1 we will return rock if it is 2 we will return Paper and if it is 3 we will return Scissor i think it will work

        function computerPlay() {
            let result;  //this variable will store the result value 
            let randomNo = (Math.floor(Math.random() * 3) + 1); // This will create a random number between 1 to 3including 1 and 3
            // console.log(randomNo); //checking if it is working correctly
            // console.log(typeof (randomNo)); //checking the type of random no
            if (randomNo === 1) {   //setting the conditions for results.
                result = "Rock";
                // console.log(result);
                return result;
            } else if (randomNo === 2) {
                result = "Paper";
                // console.log(result);
                return result;
            } else {
                result = "Scissor";
                // console.log(result);
                return result;
            }
        }
        // computerPlay(); // running to check if it works correctly


        //Next Function
        //Have to create a function named playRound which 
        //will take two parameters playerSelection and computerSelection
        //We have to return a string which will say that you loose or win using
        //this syntax "You Lose! Paper beats Rock" and also we have to make our parameters case insensitive

        //Algorithm
        //Firstly we will declare the function with two parameters
        //We will convert the string parameters to uppercase so that we can use it of equality in connditional statements
        //if the playerSelection will be rock  and computer choice is scissor than the player wins like this we will make other cases
        //we will use if statement to return the right result

        function playRound(playerSelection, computerSelection) {

            let winner;
            let playerChoice = playerSelection.toUpperCase(); //converting the string to uppercase to make it case insensitive
            let computerChoice = computerSelection.toUpperCase();
            // console.log(playerChoice, computerChoice)
            if (playerChoice === "ROCK" && computerChoice === "SCISSOR") {
                console.log("You Win! Rock beats Scissor");
                winner = "PLAYER";
                return winner;


            } else if (playerChoice === "SCISSOR" && computerChoice === "PAPER") {
                console.log("You Win! Scissor beats Paper");
                winner = "PLAYER";
                return winner;

            } else if (playerChoice === "PAPER" && computerChoice === "ROCK") {
                console.log("You Win! Paper beats Rock");
                winner = "PLAYER";
                return winner;

            } else if (playerChoice === "ROCK" && computerChoice === "PAPER") {
                console.log("You Loose! Paper beats Scissor");
                winner = "COMPUTER";
                return winner;

            } else if (playerChoice === "SCISSOR" && computerChoice === "ROCK") {
                console.log("You Loose! Rock beats Scissor");
                winner = "COMPUTER";
                return winner;

            } else if (playerChoice === "PAPER" && computerChoice === "SCISSOR") {
                console.log("You Loose! Scissor beats Paper");
                winner = "COMPUTER";
                return winner;
            } else {                                                              //its for when both the player choice and computer choice is same
                console.log("Its a tie! Play Again!");
                winner = "TIE";
                return winner;

            }
        }


        // We have to  write a function called game()
        //this function will call playRound function 5 times
        //now we need to keep track of winner and looser to show the result after 5 rounds

        //Algorithm
        //we will declare a function named as game() with no parameters
        //we will change playRound return value to PLAYER OR COMPUTER which will help us  in keeping track of results at the end
        //in the function we will declare two variables equal to 0
        //then we will run a for loop  for 5 times by initializing i =5 
        //inside the loop we will prompt for user choice and also run computerPlay to get computer choice
        //inside the for loop there will be playRound which will return the winner
        //then inside the loop we will set an if condition which will decide who wins and then it will  increase on of the variable we declared
        //and after 5 runs whichever variable will be greater  will decide who wins

        function game() {
            let playerWins=0;
            let computerWins=0;
            let perGameWinner;
            
            for (i = 0; i < 5; i++) {
                const playerSelection = prompt(" OPEN CONSOLE FIRST \nChoose from Rock, Paper and Scissor. See console", "Rock");
                const computerSelection = computerPlay();
               perGameWinner= playRound(playerSelection, computerSelection);
                if(perGameWinner==="PLAYER"){
                    playerWins++;
                }else if(perGameWinner==="COMPUTER"){
                    computerWins++;
                }
                console.log(`Player: ${playerWins} Computer:${computerWins}`);
            }
            if(playerWins>computerWins){
                console.log("Congrats You Win");
            }else if(computerWins>playerWins){
                console.log("You Loose!!");
            }else{
                console.log("It's a Tie");
            }

        }

        game();

    </script>
</body>

</html>